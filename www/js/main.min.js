!function e(t,o,a){function i(n,s){if(!o[n]){if(!t[n]){var l="function"==typeof require&&require;if(!s&&l)return l(n,!0);if(r)return r(n,!0);throw new Error("Cannot find module '"+n+"'")}var c=o[n]={exports:{}};t[n][0].call(c.exports,function(e){var o=t[n][1][e];return i(o?o:e)},c,c.exports,e,t,o,a)}return o[n].exports}for(var r="function"==typeof require&&require,n=0;n<a.length;n++)i(a[n]);return i}({1:[function(e,t,o){"use strict";t.exports=angular.module("TidiWebPanel.common",[]).service("HttpService",e("./services/http-service"))},{"./services/http-service":2}],2:[function(e,t,o){"use strict";t.exports=["$q","$http","toastr",function(e,t,o){return{apiInterceptor:function(a){var i=e.defer();return t({method:a.method||"GET",url:a.url||"",params:a.params||{},data:a.data||{}}).then(function(e){var t=e.data;t?t.success?i.resolve(t):(o.error(t.message,"Error",{iconClass:"toast-error"}),i.reject(t)):i.reject(t)},function(e){console.log("Error:",e),o.error(error.message,"Error",{iconClass:"toast-error"}),i.reject(e)}),i.promise}}}]},{}],3:[function(e,t,o){"use strict";var a="http://demo.innofied.in/tidi_phase2/backend";t.exports={basicServiceConfig:a+"/users/getbasicservices",additionalServiceList:a+"/users/getotherservices",offerPrice:a+"/users/getofferprice",getFreeSlot:a+"/users/getservices",getAdditionalService:a+"/users/getotherservices",userLocation:a+"/users/locationlist",locationCheck:a+"users/locationcheck",userRegistration:a+"/common/user-registration",userBooking:a+"/users/getbooking",getTaxConfig:a+"/users/gettax",userPayment:a+"/users/payment",checkSlot:a+"/users/slot-check"}},{}],4:[function(e,t,o){"use strict";t.exports=angular.module("TidiWebPanel.config",[]).constant("API",e("./api"))},{"./api":3}],5:[function(e,t,o){"use strict";angular.module("TidiWebPanel",["ui.router","ui.bootstrap","ngAnimate","angular-loading-bar","toastr",e("./modules").name,e("./util").name,e("./config").name,e("./common").name]).config(["cfpLoadingBarProvider",function(e){e.includeSpinner=!0}]).run(["$rootScope","$window","$state",function(e,t,o){window.console.log=function(){},e.$on("$stateChangeError",function(e,t,o,a,i,r){console.log("State change error",r,t,o,a,i)}),e.$on("$stateChangeSuccess",function(){t.localStorage.bookDetails||o.go("home.start")}),e.$on("$stateChangeStart",function(e,t,o,a,i){console.log("State change start",t,o,a,i),console.log("To state:",t.name),console.log("From state:",a.name),"home.house-details.payment"===t.name&&"home.start"===a.name&&e.preventDefault(),"home.start"===a.name&&"home.house-details.date-time-slot"===t.name&&e.preventDefault(),"home.start"===a.name&&"home.house-details.clean-location"===t.name&&e.preventDefault()})}])},{"./common":1,"./config":4,"./modules":6,"./util":26}],6:[function(e,t,o){"use strict";t.exports=angular.module("TidiWebPanel.modules",[e("./public").name])},{"./public":15}],7:[function(e,t,o){"use strict";function a(e,t,o,a,i,r,n){var s=this;t.heightWrap=!1,t.controlBackgroundImage=!1,t.customerdetails.bedCount=i.bedCount,t.customerdetails.bathCount=i.bathCount,t.customerdetails.price=i.price,t.customerdetails.date=i.date,e.init=function(){r.localStorage.priceWithAddOn&&(console.log("In price with add on",t.customerdetails.price),t.customerdetails.price=r.localStorage.priceWithAddOn,o.go("home.house-details.clean-location",{bedCount:t.customerdetails.bedCount,bathCount:t.customerdetails.bathCount,price:t.customerdetails.price,date:t.customerdetails.date},{notify:!1})),e.cleanDetails={},e.addresses=[],e.addOn=[],console.log("In clean location controller"),e.storedObj=JSON.parse(r.localStorage.bookDetails),s.otherWay="false",e.accessMethods=[{value:"Some is home",selected:!1},{value:"DoorMan",selected:!1},{value:"Other",selected:!1}],a.fetchLocation().then(function(t){if(console.log("Response location:",t),t.data){var o=t.data;angular.forEach(o,function(t){e.addresses.push({addr:t.location,apt:t.apt_number})})}},function(e){console.log("Err:",e)}),a.fetchAdditional().then(function(t){if(console.log("Response add on:",t),t.data){var o=t.data;angular.forEach(o,function(t){e.addOn.push({id:t.id,serviceType:t.name,price:"$"+t.price,selected:!1})}),console.log("add on:",e.addOn)}e.storedObj.additional_services&&!r.localStorage.dateChangeFlagNotFirstTime?(console.log("in additional"),angular.forEach(e.storedObj.additional_services,function(t){angular.forEach(e.addOn,function(e){e.id===t.id&&(e.selected=!0)})})):e.storedObj.additional_services&&r.localStorage.dateChangeFlagNotFirstTime&&(e.storedObj.additional_services=[])},function(e){console.log("err",e)}),e.storedObj.additional_services?(e.otherAcess=!0,e.cleanDetails.address=e.storedObj.address,e.cleanDetails.aptNo=e.storedObj.apartmentNo,angular.forEach(e.accessMethods,function(t){e.storedObj.accessWay===t.value&&(t.selected=!0,e.otherAcess=!1)}),e.otherAcess&&(e.accessMethods[2].selected=!0,s.otherWay="true",e.cleanDetails.otherAccessWay=e.storedObj.accessWay),e.storedObj.notes&&(e.cleanDetails.notes=e.storedObj.notes)):e.storedObj.additional_services=[]},e.calulatePrice=function(e,a){if(a)t.customerdetails.price=Number(t.customerdetails.price)-Number(e.split("$")[1]),i.price=t.customerdetails.price;else{console.log("Price:",e);var n=Number(e.split("$")[1])+Number(t.customerdetails.price);console.log("Price:",n),t.customerdetails.price=n,i.price=t.customerdetails.price}r.localStorage.priceWithAddOn=t.customerdetails.price,o.go("home.house-details.clean-location",{bedCount:t.customerdetails.bedCount,bathCount:t.customerdetails.bathCount,price:t.customerdetails.price,date:t.customerdetails.date},{notify:!1})},e.additionalService=function(t){console.log("access way:",t),angular.forEach(e.addOn,function(o){if(t!==o.id||o.selected){if(t===o.id&&o.selected){o.selected=!1;for(var a=0;a<e.storedObj.additional_services.length;a++)e.storedObj.additional_services[a].id===t&&(angular.forEach(e.addOn,function(t){console.log("In for each:",t,e.storedObj.additional_services,a),t.id===e.storedObj.additional_services[a].id&&e.calulatePrice(t.price,"sub")}),e.storedObj.additional_services.splice(a,1))}}else o.selected=!0,e.calulatePrice(o.price),e.storedObj.additional_services.push({id:t})}),r.localStorage.bookDetails=JSON.stringify(e.storedObj),console.log("add ons:",e.storedObj.additional_services)},e.onSelect=function(t,o,a){e.$item=t,e.$model=o,e.$label=a,console.log("In on select:",e.$item),e.cleanDetails.aptNo=e.$item.apt,e.storedObj.apartmentNo=e.$item.apt,e.storedObj.address=e.cleanDetails.address,r.localStorage.bookDetails=JSON.stringify(e.storedObj)},e.accessWay=function(t){console.log("access way:",t),angular.forEach(e.accessMethods,function(o){t===o.value?(o.selected=!0,"Other"===t?(s.otherWay="true",e.storedObj.accessWay="",r.localStorage.bookDetails=JSON.stringify(e.storedObj)):(s.otherWay="false",e.cleanDetails.accessWay=t,e.storedObj.accessWay=t,r.localStorage.bookDetails=JSON.stringify(e.storedObj))):o.selected=!1})},e.submitRoomInfo=function(){e.cleanDetails.address&&!e.storedObj.address?n.error("We are not available in your region","Error",{iconClass:"toast-error"}):e.storedObj.address&&""!==e.storedObj.address?("true"===s.otherWay&&(console.log("accessWay if"),e.storedObj.accessWay=e.cleanDetails.otherAccessWay,r.localStorage.bookDetails=JSON.stringify(e.storedObj)),e.storedObj.accessWay&&""!==e.storedObj.accessWay?(e.cleanDetails.notes&&(e.storedObj.notes=e.cleanDetails.notes,r.localStorage.bookDetails=JSON.stringify(e.storedObj)),console.log("in submit",e.cleanDetails),t.customerdetails.address=e.storedObj.apartmentNo+" "+e.storedObj.address,r.localStorage.priceWithAddOn=t.customerdetails.price,o.go("home.house-details.payment",{bedCount:t.customerdetails.bedCount,bathCount:t.customerdetails.bathCount,price:t.customerdetails.price,date:t.customerdetails.date,address:t.customerdetails.address})):n.error("please enter the access method","Error",{iconClass:"toast-error"})):n.error("please select your address","Error",{iconClass:"toast-error"})}}a.$inject=["$scope","$rootScope","$state","PublicService","$stateParams","$window","toastr"],t.exports=a},{}],8:[function(e,t,o){"use strict";function a(e,t,o,a,i,r,n,s){console.log("In date time controller",a);var l=this;t.dateSelected="false",t.heightWrap=!1,t.customerdetails.bedCount=r.bedCount,t.customerdetails.bathCount=r.bathCount,t.customerdetails.price=r.price,t.controlBackgroundImage=!1,e.day=moment(),console.log("day:",e.day.toDate()),e.offerRate=a,e.timeSelected=!1,angular.forEach(e.offerRate,function(e){console.log("testtttttttttttttt"),e.day_price=e.day_price+"% off"}),console.log("offer Rate:",e.offerRate),i.localStorage.rentalType="One-Time",i.localStorage.setPrice?console.log("Price already present"):i.localStorage.setPrice=t.customerdetails.price,i.localStorage.priceWithAddOn,i.localStorage.selectedSlot?(console.log("Slot pre selected"),l.isValid=!0):(console.log("Check for slot availability"),l.isValid=!1),e.recurringVal=[{value:"One-Time",rentalId:0,selected:!0},{value:"Weekly",rentalId:1,selected:!1},{value:"Bi-Weekly",rentalId:2,selected:!1}],e.offRates=e.offerRate,e.storedObj=JSON.parse(i.localStorage.bookDetails),e.storedObj.rental_id?(console.log("in else"),angular.forEach(e.recurringVal,function(t){t.rentalId==e.storedObj.rental_id?t.selected=!0:t.selected=!1})):(console.log("in if"),e.storedObj.rental_id=0,i.localStorage.bookDetails=JSON.stringify(e.storedObj)),e.submitdateInfo=function(){if(l.isValid){var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];if(angular.forEach(t.timeSlot,function(t){t.selected&&(e.timeSelected=!0)}),e.timeSelected){var i=e.storedObj.service_start_time;i=i.split(" ")[0];var r=new Date(i);console.log("Date:",r);var s=r.toString().split(" ")[1]+" "+r.toString().split(" ")[2],c=a[r.getDay()];console.log(c,s);var d=c+","+s;t.customerdetails.date=d,o.go("home.house-details.clean-location",{bedCount:t.customerdetails.bedCount,bathCount:t.customerdetails.bathCount,price:t.customerdetails.price,date:t.customerdetails.date})}else console.log("Please select time"),n.error("please select time","Error",{iconClass:"toast-error"})}else n.error("Please select an proper slot","Error",{iconClass:"toast-error"})},e.selectSlot=function(o){var a,r;if("pm"===o.toString().split(" ")[1]?(a=o.toString().split(" ")[0],a=Number(a.split(":")[0])+12,console.log("formatted time:",a)):(console.log("In else",o),a=o.toString().split(":")[0]),r=a.toString(),e.storedObj=JSON.parse(i.localStorage.bookDetails),console.log(e.storedObj),e.storedObj.service_start_time){var c={bedroom:t.customerdetails.bedCount,bathroom:t.customerdetails.bathCount,startTime:e.storedObj.service_start_time.split(" ")[0],slot_id:r};console.log(c),s.checkSlot(c).then(function(a){if(a){console.log("slot check response:",a),l.isValid=!0,n.success("Slot available","Success",{iconClass:"toast-success"}),console.log("selection click:",o),i.localStorage.selectedSlot=o;var r;console.log("Selected Slot:",o,o.toString().split(" ")[1]),"pm"===o.toString().split(" ")[1]?(r=o.toString().split(" ")[0],r=Number(r.split(":")[0])+12+":00:00",console.log("formatted time:",r)):r=o.toString().split(" ")[0]+":00",e.storedObj=JSON.parse(i.localStorage.bookDetails),console.log("formatted time:",r,e.storedObj);var s=e.storedObj.service_start_time;console.log(s),/\s/.test(s)?(s=s.split(" ")[0],s=s+" "+r,console.log("if:",s)):(s=s+" "+r,console.log("else:",s)),console.log(s),e.storedObj.service_start_time=s,i.localStorage.bookDetails=JSON.stringify(e.storedObj),angular.forEach(t.timeSlot,function(e){e.time===o?e.selected=!0:e.selected=!1})}},function(e){console.log("Slot check error"),l.isValid=!1,i.localStorage.selectedSlot&&delete i.localStorage.selectedSlot}),console.log("Slot creds:",c)}else console.log("No date data in local")},e.recWay=function(t){angular.forEach(e.recurringVal,function(o){t.value===o.value?(o.selected=!0,e.storedObj=JSON.parse(i.localStorage.bookDetails),e.storedObj.rental_id=o.rentalId,i.localStorage.rentalType=o.value,i.localStorage.bookDetails=JSON.stringify(e.storedObj)):o.selected=!1})}}a.$inject=["$scope","$rootScope","$state","OfferPrice","$window","$stateParams","toastr","PublicService"],t.exports=a},{}],9:[function(e,t,o){"use strict";function a(e,t,o){console.log("In home controller",e),t.heightWrap=!0,t.controlBackgroundImage=!1,e.gotoDashboard=function(){o.go("home.start")}}a.$inject=["$scope","$rootScope","$state"],t.exports=a},{}],10:[function(e,t,o){"use strict";function a(e,t,o){t.customerdetails={},t.controlBackgroundImage=!1,e.navigate=function(e){switch(e){case"room":o.go("home.house-details.room-details",{bedCount:t.customerdetails.bedCount,bathCount:t.customerdetails.bathCount,price:t.customerdetails.price});break;case"date":o.go("home.house-details.date-time-slot",{bedCount:t.customerdetails.bedCount,bathCount:t.customerdetails.bathCount,price:t.customerdetails.price});break;case"address":o.go("home.house-details.clean-location",{bedCount:t.customerdetails.bedCount,bathCount:t.customerdetails.bathCount,price:t.customerdetails.price,date:t.customerdetails.date,address:t.customerdetails.address})}}}a.$inject=["$scope","$rootScope","$state"],t.exports=a},{}],11:[function(e,t,o){"use strict";function a(e,t,o,a,i,r){var n=this;o.heightWrap=!0,o.controlBackgroundImage=!1,n.init=function(){r.localStorage.clear(),i.getBasicServiceConfig().then(function(t){console.log("Response:",t),t.data?(e.basicConfig=t.data,r.localStorage.basicConfig=JSON.stringify(t.data)):console.log("No data")},function(e){console.log("Err:",e)}),n.bookingInfo={},o.customerdetails={},n.filterTypeBedroom=["1 Bedroom","2 Bedroom","3 Bedroom","4 Bedroom","5+ Bedroom"],n.filterTypeBathroom=["1 Bathroom","2 Bathroom","3 Bathroom","4 Bathroom","5+ Bathroom"],n.filterListBathroom=n.filterTypeBathroom[0],n.filterListBedroom=n.filterTypeBedroom[0],n.bookingInfo.bedroom=n.filterListBedroom,n.bookingInfo.bathroom=n.filterListBathroom},n.changeRoom=function(){console.log("in change:",n.bookingInfo,n.filterListBedroom),n.bookingInfo.bedroom=n.filterListBedroom,n.bookingInfo.bathroom=n.filterListBathroom},n.bookingProperty=function(){n.bookingInfo.bedroom=n.bookingInfo.bedroom.split(" ")[0],n.bookingInfo.bathroom=n.bookingInfo.bathroom.split(" ")[0],o.customerdetails.bedCount=n.bookingInfo.bedroom,o.customerdetails.bathCount=n.bookingInfo.bathroom,console.log("In booking info:",o.customerdetails),angular.forEach(e.basicConfig,function(t){t.bathroom_count==n.bookingInfo.bathroom&&t.bedroom_count==n.bookingInfo.bedroom&&t.id&&t.daily_price&&(e.serviceId=t.id,e.price=t.daily_price,r.localStorage.bookDetails=JSON.stringify({service_id:t.id}))}),o.customerdetails.price=e.price,console.log(e.serviceId,e.price),t.go("home.house-details.room-details",{bedCount:n.bookingInfo.bedroom,bathCount:n.bookingInfo.bathroom,price:e.price})}}a.$inject=["$scope","$state","$rootScope","API","PublicService","$window"],t.exports=a},{}],12:[function(e,t,o){"use strict";function a(e,t,o,a,i,r,n){console.log("In payment controller");var s=this;s.hasError=!1,s.showSpinner=!1,t.heightWrap=!1,t.controlBackgroundImage=!1,t.customerdetails.bedCount=o.bedCount,t.customerdetails.bathCount=o.bathCount,t.customerdetails.price=o.price,t.customerdetails.date=o.date,t.customerdetails.address=o.address,console.log("match:",t.customerdetails.price,typeof t.customerdetails.price),e.finalPrice=Number(t.customerdetails.price).toFixed(2),i.localStorage.priceWithAddOn=e.finalPrice,e.expPattern=/[\d]{2}\/[\d]{4}/,e.fullName=/^[a-z]([-']?[a-z]+)*( [a-z]([-']?[a-z]+)*)+$/gim,i.localStorage.rentalType&&(e.rentalType=i.localStorage.rentalType),i.localStorage.selectedDate&&(e.serviceDate=i.localStorage.selectedDate,e.serviceDate=new Date(e.serviceDate),e.serviceYear=e.serviceDate.getFullYear(),console.log("service date:",e.serviceDate)),i.localStorage.selectedSlot&&(e.serviceTime=i.localStorage.selectedSlot),i.localStorage.bookDetails&&(e.additionals=JSON.parse(i.localStorage.bookDetails),e.additionals=e.additionals.additional_services,console.log("from local:",e.additionals)),i.localStorage.dateChangeFlagNotFirstTime&&delete i.localStorage.dateChangeFlagNotFirstTime,e.paymentInfo={},e.userRegistration={},e.userBooking={},e.userPayment={},e.paymentInfo.contactMethod=[],e.init=function(){e.addServName="",e.contactType=[{value:"Text",selected:!1},{value:"Call",selected:!1},{value:"Email",selected:!1}],a.getTaxConfig().then(function(o){if(console.log("Tax Config:",o),o){var a=o.data;e.taxOnTotal=Number(a.daily_tax)*t.customerdetails.price/100,e.taxOnTotal=e.taxOnTotal.toFixed(2),console.log("Tax on total:",e.taxOnTotal),e.totalPrice=(Number(t.customerdetails.price)+Number(e.taxOnTotal)).toFixed(2),t.customerdetails.price=e.totalPrice}},function(e){console.log("err:",e)}),a.fetchAdditional().then(function(t){if(console.log("Response add on:",t),t.data){for(var o=t.data,a=0;a<e.additionals.length;a++)for(var i=0;i<o.length;i++)e.additionals[a].id===o[i].id&&(e.addServName=e.addServName+o[i].name+", ");e.addServName=e.addServName.slice(0,-2)}},function(e){console.log("err:",e)})},e.contactMethod=function(t){console.log("method",t),angular.forEach(e.contactType,function(o){if(t!==o.value||o.selected){if(t===o.value&&o.selected){o.selected=!1;for(var a=0;a<e.paymentInfo.contactMethod.length;a++)e.paymentInfo.contactMethod[a]===t&&e.paymentInfo.contactMethod.splice(a,1)}}else o.selected=!0,e.paymentInfo.contactMethod.push(t)}),console.log("Contact method:",e.paymentInfo.contactMethod)},e.paySubmit=function(){if(e.paymentInfo.password="123456",console.log("Form submit",e.paymentInfo),i.localStorage.bookDetails){e.userBooking=JSON.parse(i.localStorage.bookDetails);var o=e.paymentInfo.expDate.split("/")[0],l=e.paymentInfo.expDate.split("/")[1];console.log("month, year:",o,l);var c=(new Date).getFullYear();console.log("currentYear:",c),l<c?(console.log("less:"),s.hasError=!0):(s.hasError=!1,e.userPayment.exp_month=o,e.userPayment.exp_year=l,e.userPayment.card_number=e.paymentInfo.creditNumber,e.userPayment.cvc=e.paymentInfo.cvv,e.userPayment.email=e.paymentInfo.email,e.userPayment.rental_id=e.userBooking.rental_id,e.userPayment.total_price=e.totalPrice),s.hasError?r.error("Expiry year should be greater than current Year","Error",{iconClass:"toast-error"}):(s.showSpinner=!0,e.userRegistration.email=e.paymentInfo.email,e.userRegistration.password=e.paymentInfo.password,e.userRegistration.confirm_password=e.paymentInfo.password,e.userRegistration.name=e.paymentInfo.fullName,e.userRegistration.user_type="4",e.userRegistration.address=t.customerdetails.address,e.userRegistration.contact_medium=e.paymentInfo.contactMethod,e.userRegistration.device_type="web",e.userRegistration.phone=e.paymentInfo.phone,console.log("Reg obj:",e.userRegistration),a.registerUser(e.userRegistration).then(function(t){console.log("Response:",t),t.token&&(i.localStorage.token=t.token,e.userBooking.token=t.token,a.bookService(e.userBooking).then(function(t){console.log("res:",t),t.data.orderId&&(e.userPayment.token=i.localStorage.token,e.userPayment.booking_id=t.data.orderId,a.userPayment(e.userPayment).then(function(t){console.log("Payment:",t),s.showSpinner=!1,e.paymentInfo={},n.go("home.start"),r.success("Order Placed","Success",{iconClass:"toast-success"})},function(e){console.log("err:",e),s.showSpinner=!1}))},function(e){console.log("err:",e),s.showSpinner=!1}))},function(e){console.log("err:",e),s.showSpinner=!1}))}}}a.$inject=["$scope","$rootScope","$stateParams","PublicService","$window","toastr","$state"],t.exports=a},{}],13:[function(e,t,o){"use strict";function a(e,t,o,a,i){function r(){console.log("cal price:"),angular.forEach(e.basicServiceConfig,function(o){o.bathroom_count==e.roomCount.bathCount&&o.bedroom_count==e.roomCount.bedCount&&(console.log("Price here!!!",o.daily_price),console.log("Id final:",o.id),a.localStorage.bookDetails=JSON.stringify({service_id:o.id}),t.customerdetails.price=o.daily_price)})}t.heightWrap=!0,t.controlBackgroundImage=!1,console.log("stateParams",i,t.customerdetails),t.customerdetails.bedCount=i.bedCount,t.customerdetails.bathCount=i.bathCount,t.customerdetails.price=i.price,e.init=function(){e.basicServiceConfig=JSON.parse(a.localStorage.basicConfig),console.log("basic config:",e.basicServiceConfig),e.bedrooms=[{value:"1",selected:!1},{value:"2",selected:!1},{value:"3",selected:!1},{value:"4",selected:!1},{value:"5+",selected:!1}],e.bathrooms=[{value:"1",selected:!1},{value:"2",selected:!1},{value:"3",selected:!1},{value:"4",selected:!1},{value:"5+",selected:!1}],e.roomCount={bedCount:t.customerdetails.bedCount,bathCount:t.customerdetails.bathCount},angular.forEach(e.bedrooms,function(e){t.customerdetails.bedCount===e.value?e.selected=!0:e.selected=!1}),angular.forEach(e.bathrooms,function(e){t.customerdetails.bathCount===e.value?e.selected=!0:e.selected=!1})},e.bedCount=function(o){e.roomCount.bedCount=o,console.log("count from bed:",e.roomCount),angular.forEach(e.bedrooms,function(a){o===a.value?(a.selected=!0,e.roomCount.bedCount=o,r(),t.customerdetails.bedCount=o):a.selected=!1})},e.bathCount=function(o){e.roomCount.bathCount=o,console.log("count from bath:",e.roomCount),angular.forEach(e.bathrooms,function(a){o===a.value?(a.selected=!0,e.roomCount.bathCount=o,r(),t.customerdetails.bathCount=o):a.selected=!1})},e.submitRoomInfo=function(){console.log("room info:",e.roomCount),o.go("home.house-details.date-time-slot",{bedCount:t.customerdetails.bedCount,bathCount:t.customerdetails.bathCount,price:t.customerdetails.price})}}a.$inject=["$scope","$rootScope","$state","$window","$stateParams"],t.exports=a},{}],14:[function(e,t,o){"use strict";var a=function(t,o,a,i,r){return{restrict:"AEC",template:e("../templates/calendar.html"),scope:{selected:"=",off:"="},link:function(e){function n(e){return console.log("In remove time",e),e.day(0).hour(0).minute(0).second(0).millisecond(0)}function s(t,o){for(var a=[],i=0;i<7;i++){var r=new Date;r.setHours(0,0,0,0);var n,s=t.toDate();n=s<r,a.push({name:t.format("dd").substring(0,1),number:t.date(),isCurrentMonth:t.month()===o.month(),isToday:t.isSame(new Date,"day"),date:t,disable:n,off:e.off[i].day_price}),t=t.clone(),t.add(1,"d")}return a}function l(o){t.customerdetails.price=e.currentPrice-e.currentPrice*o/100,i.price=t.customerdetails.price,console.log("stateparam:",i.price),r.go("home.house-details.date-time-slot",{bedCount:t.customerdetails.bedCount,bathCount:t.customerdetails.bathCount,price:t.customerdetails.price},{notify:!1})}function c(e,t,o){e.weeks=[];for(var a=!1,i=t.clone(),r=i.month(),n=0;!a;)e.weeks.push({days:s(i.clone(),o)}),i.add(1,"w"),a=n++>2&&r!==i.month(),r=i.month();console.log("weeks:",e.weeks)}if(console.log("Off in directive:",e.off),e.fetchSlot=function(i){var r;if(console.log("In slot creds::::::",i),new Date(i.startTime).toDateString()===(new Date).toDateString()){r=!0;var n=(new Date).getHours()}else console.log("Not today"),r=!1;e.timeSlot=[],o.getFreeSlot(i).then(function(o){if(console.log("response:",o),o.data){t.dateSelected="true",t.controlBackgroundImage=!0;var i=o.data;for(var s in i)if(i.hasOwnProperty(s)){var l={};r&&n<Number(i[s])?(console.log("In if",n,i[s]),i[s]>12?l.time=i[s]-12+":00 pm":l.time=i[s]+":00 am",a.localStorage.selectedSlot&&l.time===a.localStorage.selectedSlot?l.selected=!0:l.selected=!1,e.timeSlot.push(l)):r||(console.log("in else not today"),i[s]>12?l.time=i[s]-12+":00 pm":l.time=i[s]+":00 am",a.localStorage.selectedSlot&&l.time===a.localStorage.selectedSlot?l.selected=!0:l.selected=!1,e.timeSlot.push(l))}"undefined"!=typeof l&&0!==Object.keys(l).length||(t.notAvailable=!0,t.dateSelected="false",t.controlBackgroundImage=!1,t.timeSlot=""),t.timeSlot=e.timeSlot}else console.log("no data"),t.notAvailable=!0,t.dateSelected="false",t.controlBackgroundImage=!1,t.timeSlot=""},function(e){console.log("Err:",e)})},e.storedObj=JSON.parse(a.localStorage.bookDetails),e.storedObj.service_start_time){var d=a.localStorage.selectedDate,u=new Date(d).toISOString(),m=e.storedObj.service_start_time.split(" ")[0];console.log("time init:",m);var p=moment(u);console.log("Date init:",p),e.selected=p;var g={bedroom:t.customerdetails.bedCount,bathroom:t.customerdetails.bathCount,startTime:m};console.log("get Slot Time",g),e.fetchSlot(g),console.log("This is where we set base price"),a.localStorage.setPrice&&(e.currentPrice=a.localStorage.setPrice,console.log("Current Price",e.currentPrice))}else console.log("first time"),e.currentPrice=t.customerdetails.price;e.changeColor=function(e,t){t===!0?e.hover=!0:t===!1&&(e.hover=!1)},console.log("in link"),console.log("This selected:",e.selected),e.month=e.selected.clone();var f=e.selected.clone();f.date(1),n(f.day(0)),c(e,f,e.month),e.select=function(o){if(!o.disable&&o.isCurrentMonth){console.log("Selected day:",o.date.toDate(),o.off);var n=o.off.split("%")[0];console.log("off %:",n),n>"0"?(console.log("if"),l(n)):(console.log("else"),t.customerdetails.price=e.currentPrice,i.price=t.customerdetails.price,r.go("home.house-details.date-time-slot",{bedCount:t.customerdetails.bedCount,bathCount:t.customerdetails.bathCount,price:t.customerdetails.price},{notify:!1})),e.storedObj.service_start_time&&(a.localStorage.dateChangeFlagNotFirstTime=!0),a.localStorage.priceWithAddOn&&delete a.localStorage.priceWithAddOn,e.selected=o.date,a.localStorage.selectedDate=o.date;var s,c,d=o.date.toDate();console.log("Date:",d),1===(d.getMonth()+1).toString().length?(console.log("date formation--->>",d.getMonth().toString()),s=d.getMonth()+1,s="0"+s):(console.log("date formation--->>",d.getMonth().toString().length),s=d.getMonth()+1),console.log("day today:",d.getDate().toString().length,d.getDate()),c=1===d.getDate().toString().length?"0"+d.getDate():d.getDate(),d=d.getFullYear()+"-"+s+"-"+c,console.log("Date:",d),a.localStorage.selectedSlot&&delete a.localStorage.selectedSlot;var u={bedroom:t.customerdetails.bedCount,bathroom:t.customerdetails.bathCount,startTime:d};console.log("backend send:",u);var m=JSON.parse(a.localStorage.bookDetails);m.service_start_time=u.startTime,a.localStorage.bookDetails=JSON.stringify(m),console.log("store locally:",a.localStorage.bookDetails),e.fetchSlot(u)}else console.log("Disabled")},e.next=function(){var t=e.month.clone();n(t.month(t.month()+1).date(1)),e.month.month(e.month.month()+1),c(e,t,e.month)},e.previous=function(){var t=e.month.clone();n(t.month(t.month()-1).date(1)),e.month.month(e.month.month()-1),c(e,t,e.month)}}}};a.$inject=["$rootScope","PublicService","$window","$stateParams","$state"],t.exports=a},{"../templates/calendar.html":18}],15:[function(e,t,o){"use strict";t.exports=angular.module("TidiWebPanel.modules.public",["ui.router"]).config(e("./router/router")).service("PublicService",e("./services/PublicService")).controller("HomeController",e("./controllers/HomeController")).controller("LandingController",e("./controllers/LandingController")).controller("HouseController",e("./controllers/HouseController")).controller("RoomController",e("./controllers/RoomController")).controller("DateTimeController",e("./controllers/DateTimeController")).controller("CleanLocationController",e("./controllers/CleanLocationController")).controller("PaymentController",e("./controllers/PaymentController")).directive("calendar",e("./directives/calendar"))},{"./controllers/CleanLocationController":7,"./controllers/DateTimeController":8,"./controllers/HomeController":9,"./controllers/HouseController":10,"./controllers/LandingController":11,"./controllers/PaymentController":12,"./controllers/RoomController":13,"./directives/calendar":14,"./router/router":16,"./services/PublicService":17}],16:[function(e,t,o){"use strict";t.exports=["$stateProvider","$urlRouterProvider","$locationProvider",function(t,o,a){a.hashPrefix(""),t.state("home",{url:"/home",template:e("../templates/home.html"),"abstract":!0,controller:"HomeController"}).state("home.start",{url:"^/start",template:e("../templates/landing.html"),controller:"LandingController",controllerAs:"vm"}).state("home.house-details",{url:"^/house-details",template:e("../templates/house-details.html"),"abstract":!0,controller:"HouseController"}).state("home.house-details.room-details",{url:"^/room-details/bedCount/:bedCount/bathCount/:bathCount/price/:price",template:e("../templates/room-details.html"),controller:"RoomController",params:{bedCount:null,bathCount:null,price:null},controllerAs:"vm"}).state("home.house-details.date-time-slot",{url:"^/date-time-slot/bedCount/:bedCount/bathCount/:bathCount/price/:price",template:e("../templates/date-time-slot.html"),controller:"DateTimeController",controllerAs:"vm",resolve:{OfferPrice:["PublicService","$q",function(e,t){var o=t.defer();return e.getOfferPrice().then(function(e){return console.log("In resolve",e),e.data?o.resolve(e.data):void o.reject()},function(e){o.reject(e)}),o.promise}]}}).state("home.house-details.clean-location",{url:"^/clean-location/bedCount/:bedCount/bathCount/:bathCount/price/:price/date/:date",template:e("../templates/clean-location.html"),controller:"CleanLocationController",controllerAs:"vm"}).state("home.house-details.payment",{url:"^/payment/bedCount/:bedCount/bathCount/:bathCount/price/:price/date/:date/address/:address",template:e("../templates/payment.html"),controller:"PaymentController",controllerAs:"vm"}),o.otherwise("/start")}]},{"../templates/clean-location.html":19,"../templates/date-time-slot.html":20,"../templates/home.html":21,"../templates/house-details.html":22,"../templates/landing.html":23,"../templates/payment.html":24,"../templates/room-details.html":25}],17:[function(e,t,o){"use strict";function a(e,t,o){function a(){var e={method:"POST",url:o.basicServiceConfig};return t.apiInterceptor(e)}function i(){var e={method:"POST",url:o.additionalServiceList};return t.apiInterceptor(e)}function r(){var e={method:"POST",url:o.offerPrice};return t.apiInterceptor(e)}function n(e){var a={method:"POST",url:o.getFreeSlot,data:e};return t.apiInterceptor(a)}function s(){var e={method:"POST",url:o.userLocation};return t.apiInterceptor(e)}function l(){var e={method:"POST",url:o.getAdditionalService};return t.apiInterceptor(e)}function c(e){var a={method:"POST",url:o.locationCheck,data:{address:e}};return t.apiInterceptor(a)}function d(){var e={method:"POST",url:o.getTaxConfig};return t.apiInterceptor(e)}function u(e){var a={method:"POST",url:o.userRegistration,data:e};return t.apiInterceptor(a)}function m(e){var a={method:"POST",url:o.userBooking,data:e};return t.apiInterceptor(a)}function p(e){var a={method:"POST",url:o.userPayment,data:e};return t.apiInterceptor(a)}function g(e){console.log("in service:",e);var a={method:"POST",url:o.checkSlot,data:e};return t.apiInterceptor(a)}return{getBasicServiceConfig:a,getAdditionalServices:i,getOfferPrice:r,getFreeSlot:n,fetchLocation:s,fetchAdditional:l,checkLocation:c,getTaxConfig:d,registerUser:u,bookService:m,userPayment:p,checkSlot:g}}a.$inject=["$window","HttpService","API"],t.exports=a},{}],18:[function(e,t,o){t.exports='<div class=header><i class="fa fa-angle-left pad-left-15" ng-click=previous()></i> <span class=font-medium-futura>{{month.format("MMMM, YYYY")}}</span> <i class="fa fa-angle-right pad-right-15" ng-click=next()></i></div><div class="week names"><span class="day cell-style pad-3-all">Sun</span> <span class="day cell-style pad-3-all">Mon</span> <span class="day cell-style pad-3-all">Tue</span> <span class="day cell-style pad-3-all">Wed</span> <span class="day cell-style pad-3-all">Thu</span> <span class="day cell-style pad-3-all">Fri</span> <span class="day cell-style pad-3-all">Sat</span></div><div class=week ng-repeat="week in weeks"><span class="day cell-style cursor-pointer" ng-style=personColour ng-class="{\'today\': day.isToday, \'different-month\': !day.isCurrentMonth, \'selected\': day.date.isSame(selected) && !day.disable && day.isCurrentMonth,\'disable-date\':day.disable,\'hover-effect\':day.hover && !day.disable && day.isCurrentMonth}" ng-click=select(day) ng-repeat="day in week.days" ng-mouseenter=changeColor(day,true) ng-mouseleave=changeColor(day,false)><label class="display-block font-weight-normal" ng-class="{\'cursor-pointer\':!day.disable}">{{day.number}}</label><label class="display-block font-weight-normal off-style" ng-class="{\'cursor-pointer\':!day.disable}" ng-if="!day.disable && day.off!=\'0% off\'">{{day.off}}</label></span></div>';
},{}],19:[function(e,t,o){t.exports='<div class="container-fluid pad-1"><div class=booking-wrapper ng-init=init()><div class=booking-select><div class=booking-header>Cleaning location</div><div class=booking-body><div class=location-container><div class=address-field><p class=location-header>ADDRESS</p><div class="location-body input-address-text"><input type=text ng-model=cleanDetails.address uib-typeahead="address.addr for address in addresses | filter:$viewValue | limitTo:8" typeahead-on-select="onSelect($item, $model, $label)"></div></div><div class=appartment-field><p class=location-header>APT. NUMBER</p><div class=location-body><input readonly=readonly type=text ng-model=cleanDetails.aptNo></div></div><div class=location-field><p class=location-header>HOW DO WE ACCESS YOUR LOCATION<span class="question-mark sub-head-qs">?</span></p><div class="room-body overflow-auto"><span class=pull-left ng-class="{\'selected-span\':access.selected}" ng-repeat="access in accessMethods" ng-click=accessWay(access.value)>{{access.value}}</span></div><div class=other-way ng-if="vm.otherWay==\'true\'"><textarea placeholder="How do we get in?" ng-model=cleanDetails.otherAccessWay></textarea></div></div><div class=location-field><p class=location-header>ADD ON\'S<span class="question-mark sub-head-qs">?</span></p><div class="room-body overflow-auto"><span ng-class="{\'selected-span\':add.selected}" class="pull-left margin-bt-10" ng-repeat="add in addOn" ng-click=additionalService(add.id)><label class=pull-left>{{add.serviceType}}</label><label class=pull-right>{{add.price}}</label></span></div></div><div class=location-field><p class=location-header>SPECIAL NOTES/INSTRUCTIONS<span class="question-mark sub-head-qs">?</span></p><div class=other-way><textarea rows=4 ng-model=cleanDetails.notes></textarea></div></div></div><div class="next-button mtb-2"><button ng-click=submitRoomInfo()>Next</button></div></div></div></div></div>'},{}],20:[function(e,t,o){t.exports='<div class="container-fluid pad-1"><div class=booking-wrapper ng-init=init()><div class=booking-select><div class=booking-header>How Frequent <span class=question-mark>?</span></div><div class="booking-body width-55 margin-auto"><p class=location-header>RECURRING</p><div class="rec-body overflow-auto"><span class=pull-left ng-class="{\'selected-span\':rec.selected}" ng-repeat="rec in recurringVal" ng-click=recWay(rec)>{{rec.value}}</span></div></div><div class="booking-header pad-3 pad-bottom-5">When would like your home to be cleaned <span class=question-mark>?</span></div><p class="sub-header text-center">Save money by booking on non-peak dates</p><div class=choose-date><calendar selected=day off=offRates class=calendar-style></calendar></div></div></div><div class=booking-wrapper ng-if="dateSelected===\'true\'"><div class=booking-select><div class="booking-header pad-3 pad-bottom-5">Choose a time that works for your schedule</div><div class=time-slot-list><ul><li class=pad-3-all ng-class="{\'selected-time\':time.selected}" ng-repeat="time in timeSlot" ng-click=selectSlot(time.time)>{{time.time}}</li></ul></div></div></div><div class=booking-wrapper ng-if="notAvailable && dateSelected===\'false\'"><div class=booking-select><div class="booking-header pad-3 pad-bottom-5">All slots are booked in this date. Please choose a different date for service</div></div></div><div class=next-button ng-if="dateSelected===\'true\'"><button ng-click=submitdateInfo()>Next</button></div></div>'},{}],21:[function(e,t,o){t.exports='<div class=wrapper-main><header class=header-style><nav class="navbar navbar-inverse background-theme"><div class=container-fluid><div class=navbar-header><button type=button class="navbar-toggle toggle-menu" data-toggle=collapse data-target=#myNavbar><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button><div class="pull-left tidi-logo navbar-brand"><img src=./resources/img/tidi_logo.png ng-click=gotoDashboard()></div></div><div class="collapse navbar-collapse menu-collapse" id=myNavbar><ul class="nav navbar-nav header-menu"><li><a href=#>Checklist</a></li><li><a href=#>What We Do</a></li><li><a href=#>Smart Cleaning</a></li><li><a href=#>Contact</a></li></ul></div></div></nav></header><main ui-view class=main-view></main><footer class=footer-style><div class=footer-wrapper><ul><li>INSTAGRAM</li><li>BECOME A PARTNER</li><li>FACEBOOK</li></ul><p class=copyright><label>COPYRIGHT 2016 TIDI.</label><label class=right-reserved>ALL RIGHTS RESERVED</label></p></div></footer></div>'},{}],22:[function(e,t,o){t.exports='<div class=header-booking-details><div class=customer-details ng-if=customerdetails.bedCount ng-click="navigate(\'room\')"><div class=room-count>{{customerdetails.bedCount}}</div><div class=room-label>BEDROOMS</div></div><div class=customer-details ng-if=customerdetails.bathCount ng-click="navigate(\'room\')"><div class=room-count>{{customerdetails.bathCount}}</div><div class=room-label>BATHROOMS</div></div><div class="customer-details width-20" ng-if=customerdetails.date ng-click="navigate(\'date\')"><div class=room-count>{{customerdetails.date}}</div><div class=room-label>SCHEDULE DATE</div></div><div class="customer-details width-20" ng-if=customerdetails.address ng-click="navigate(\'address\')"><div class="room-count adjust-address">{{customerdetails.address}}</div><div class=room-label>ADDRESS</div></div><div class="subtotal pull-right" ng-if=customerdetails.price ng-click="navigate(\'payment\')"><div class=total-price>&#36; {{customerdetails.price}}</div><div class=total-label>SUBTOTAL</div></div></div><div class=wrapper-landing-child ng-class="{\'wrap-height\':heightWrap}"><div ui-view class=background-img-100 ng-class="{\'adjust-dateTime-height\':controlBackgroundImage}"></div></div>'},{}],23:[function(e,t,o){t.exports='<div class="wrapper-landing container-fluid"><div class=background-img-100><div class=booking-wrapper><div class=booking-select ng-init=vm.init()><div class="booking-header tidi-header">Tidi Booking</div><div class=booking-body><form class=booking-form ng-submit=vm.bookingProperty()><select class="style-select-property border-right-0" ng-model=vm.filterListBedroom ng-change=vm.changeRoom() ng-options="filter as filter for filter in vm.filterTypeBedroom"></select><select class=style-select-property ng-change=vm.changeRoom() ng-model=vm.filterListBathroom ng-options="filter as filter for filter in vm.filterTypeBathroom"></select><button class=book-now ng-click=buttonClick()>Book Now</button></form></div></div></div></div></div>'},{}],24:[function(e,t,o){t.exports='<div class=container-fluid ng-init=init()><div class="row payment-container"><form name=paymentForm role=form novalidate="" ui-form=paySubmit><div class="col-md-9 col-sm-10 col-xs-12 left-panel-payment pad-tp-6"><div class=booking-wrapper><div class=booking-select><div class="booking-header pad-bt-0">Almost there</div><p class="sub-header text-center">Enter your payment &amp; contact info to finalize your appointment</p><div class=booking-body><div class=payment-container><div class=credit-card><p class=location-header>CREDIT CARD</p><div class=location-body><input type=text ng-model=paymentInfo.creditNumber name=creditNumber tooltip-enable="paymentForm.creditNumber.$invalid && paymentForm.creditNumber.$dirty" uib-tooltip="Please enter creditNumber." tooltip-append-to-body=true tooltip-placement=left ng-class="{\'valid-field-logo\':paymentForm.creditNumber.$valid,\'invalid-field-logo\':paymentForm.creditNumber.$invalid && paymentForm.creditNumber.$dirty}" ui-required ui-allowed-upto=16 ui-minlength=16 ui-number></div></div><div class=exp-date><p class=location-header>EXP. DATE</p><div class=location-body><input type=text placeholder=MM/YYYY ng-model=paymentInfo.expDate name=expTime tooltip-enable="paymentForm.expTime.$invalid && paymentForm.expTime.$dirty" uib-tooltip="Please enter expTime." tooltip-append-to-body=true tooltip-placement=top ng-class="{\'valid-field-logo\':paymentForm.expTime.$valid,\'invalid-field-logo\':paymentForm.expTime.$invalid && paymentForm.expTime.$dirty}" ui-pattern=expPattern ui-allowed-upto=7 ui-required></div></div><div class=cvv><p class=location-header>CVV</p><div class=location-body><input type=text ng-model=paymentInfo.cvv name=cvv tooltip-enable="paymentForm.cvv.$invalid && paymentForm.cvv.$dirty" uib-tooltip="Please enter cvv." tooltip-append-to-body=true tooltip-placement=right ng-class="{\'valid-field-logo\':paymentForm.cvv.$valid,\'invalid-field-logo\':paymentForm.cvv.$invalid && paymentForm.cvv.$dirty}" ui-required ui-allowed-upto=3 ui-minlength=3 ui-number></div></div></div><div class="user-info-container overflow-auto"><div class="user-creds pull-left"><p class=location-header>FULL NAME</p><div class=location-body><input type=text name=fullName ng-model=paymentInfo.fullName tooltip-enable="paymentForm.fullName.$invalid && paymentForm.fullName.$dirty" uib-tooltip="Please enter fullName." tooltip-append-to-body=true tooltip-placement=left ng-class="{\'valid-field-logo\':paymentForm.fullName.$valid,\'invalid-field-logo\':paymentForm.fullName.$invalid && paymentForm.fullName.$dirty}" ui-required ui-pattern=fullName></div></div><div class="user-creds pull-right"><p class=location-header>EMAIL ADDRESS</p><div class=location-body><input type=text name=email ng-model=paymentInfo.email tooltip-enable="paymentForm.email.$invalid && paymentForm.email.$dirty" uib-tooltip="Please enter email." tooltip-append-to-body=true tooltip-placement=right ng-class="{\'valid-field-logo\':paymentForm.email.$valid,\'invalid-field-logo\':paymentForm.email.$invalid && paymentForm.email.$dirty}" ui-required ui-email></div></div></div><div class="user-info-container overflow-auto"><div class="user-creds pull-left"><p class=location-header>PHONE</p><div class=location-body><input type=text name=contact ng-model=paymentInfo.phone tooltip-enable="paymentForm.contact.$invalid && paymentForm.contact.$dirty" uib-tooltip="Please enter contact." tooltip-append-to-body=true tooltip-placement=left ng-class="{\'valid-field-logo\':paymentForm.contact.$valid,\'invalid-field-logo\':paymentForm.contact.$invalid && paymentForm.contact.$dirty}" ui-required ui-allowed-upto=10 ui-minlength=10 ui-number></div></div><div class="user-creds pull-right"><p class=location-header>HOW DO WE CONTACT YOU?</p><div class=location-body><div class=contact-container><span ng-class="{\'selected-span\':contact.selected}" ng-repeat="contact in contactType" ng-click=contactMethod(contact.value)>{{contact.value}}</span></div></div></div></div></div></div></div></div><div class="col-md-3 col-sm-2 col-xs-12 right-panel-receipt pad-top-2 backgroung-grey pad-bt-6 opacity-receipt"><div class=receipt-wrapper><div class=receipt-header>Receipt</div><div class=receipt-details><p class=margin-tp-10>{{customerdetails.bedCount}} Bedroom, {{customerdetails.bathCount}} Bathroom</p><p class=divider></p><p class=margin-tp-10>{{rentalType}}, {{customerdetails.date}}, {{serviceYear}} at {{serviceTime}}</p><p class=divider></p><div class=margin-tp-10><p>{{customerdetails.address}}</p></div><p class=divider></p><div class="margin-tp-10 margin-bt-10"><span>Add On:</span> <span>{{addServName}}</span></div><p class=divider></p><div class="width-100 margin-tp-10"><span class="inline-block total-span bold-total">SUBTOTAL</span> <span class="inline-block amount-span bold-total">&#36;{{finalPrice}}</span></div><div class="width-100 margin-bt-10"><span class="inline-block total-span">Tax</span> <span class="inline-block amount-span">+&#36;{{taxOnTotal}}</span></div><p class=divider></p><div class="width-100 margin-tp-10"><span class="inline-block total-span bold-total">TOTAL</span> <span class="inline-block amount-span bold-total">&#36;{{totalPrice}}</span></div><div class="submit-button margin-16"><button type=submit ng-if=!vm.showSpinner>Submit</button> <button class=disable-button ng-if=vm.showSpinner ng-disabled=true><i class="fa fa-spinner fa-pulse fa-fw spinner-font"></i></button></div></div></div></div></form></div></div>'},{}],25:[function(e,t,o){t.exports='<div class="container-fluid pad-7"><div class=booking-wrapper><div class=booking-select ng-init=init()><div class=booking-header>Tell us about your place</div><div class=booking-body><div class=room-container><p class=room-header>NUMBER OF BEDROOMS</p><div class=room-body><span ng-class="{\'selected-span\':room.selected}" ng-repeat="room in bedrooms" ng-click=bedCount(room.value)>{{room.value}}</span></div></div><div class=room-container><p class=room-header-bathroom>NUMBER OF BATHROOMS</p><div class=room-body><span ng-class="{\'selected-span\':room.selected}" ng-repeat="room in bathrooms" ng-click=bathCount(room.value)>{{room.value}}</span></div></div><div class=next-button><button ng-click=submitRoomInfo()>Next</button></div></div></div></div></div>'},{}],26:[function(e,t,o){"use strict";function a(e){var t,o=new Date(e.date),a=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];return t={dd:o.getDate(),mm:o.getMonth()+1,yy:o.getFullYear(),HH:o.getHours(),MN:o.getMinutes(),SS:o.getSeconds()},t.HH>11?(t.hh=12+t.HH-24,t.AMPM="PM"):(t.hh=t.HH,t.AMPM="AM"),/A{2}/i.test(e.format)||(e.format=e.format.replace(/A/gi,t.AMPM)),/s+/i.test(e.format)&&!/s{3}/i.test(e.format)&&(/s{2}/i.test(e.format)?e.format=e.format.replace(/ss/gi,t.SS>9?t.SS:"0"+t.SS):e.format=e.format.replace(/s/gi,t.SS)),/h+/.test(e.format)&&!/h{3}/.test(e.format)&&(/h{2}/.test(e.format)?e.format=e.format.replace(/hh/g,t.hh>9?t.hh:"0"+t.hh):e.format=e.format.replace(/h/g,t.hh)),/H+/.test(e.format)&&!/H{3}/.test(e.format)&&(/H{2}/.test(e.format)?e.format=e.format.replace(/HH/g,t.HH>9?t.HH:"0"+t.HH):e.format=e.format.replace(/HH/g,t.HH)),/T+/gi.test(e.format)&&!/T{3}/gi.test(e.format)&&(/T{2}/i.test(e.format)?e.format=e.format.replace(/tt/gi,t.MN>9?t.MN:"0"+t.MN):e.format=e.format.replace(/t/gi,t.MN)),/d+/i.test(e.format)&&!/d{3}/i.test(e.format)&&(/d{2}/i.test(e.format)?e.format=e.format.replace(/dd/gi,t.dd>9?t.dd:"0"+t.dd):e.format=e.format.replace(/d/gi,t.dd)),/y+/i.test(e.format)&&!/y{5}/i.test(e.format)&&(/y{4}/i.test(e.format)?e.format=e.format.replace(/yyyy/gi,t.yy):/y{3,}/i.test(e.format)||(e.format=e.format.replace(/yy/gi,t.yy.toString().substring(2)))),/m+/i.test(e.format)&&!/m{4}/i.test(e.format)&&(/m{3}/.test(e.format)?e.format=e.format.replace(/mmm/gi,a[t.mm-1].toLowerCase()):/M{3}/.test(e.format)?e.format=e.format.replace(/MMM/gi,a[t.mm].toUpperCase()):/m{2,}/i.test(e.format)?e.format=e.format.replace(/m{2,}/gi,t.mm>9?t.mm:"0"+t.mm):e.format=e.format.replace(/m{1,}/g,t.mm)),e.format}function i(e,t){return new RegExp(e||"").test(t)}function r(e){return e.match(/\S/g).length}function n(e,t){return e===t?0:e>t?1:-1}function s(e,t){t.$setUntouched(),t.$setPristine()}function l(e,t,o,a){s(t,a),a.$validators.uiRequired=function(e,t){var o=e||t;return!!o}}function c(e,t,o,a){s(t,a),a.$parsers.push(function(t){var o=i(e.uiPattern,t);if(a.$setValidity("uiPattern",o),o)return t})}function d(e,t,o,a){s(t,a),a.$parsers.push(function(e){if(!e)return e;var t=i(/^[a-zA-Z0-9\-\_\.\+]+@[a-zA-Z0-9\-\_\.]+\.[a-zA-Z0-9\-\_]+$/,e);return a.$setValidity("uiEmail",t),t?e:void 0})}function u(e,t,o,a){s(t,a),a.$parsers.push(function(e){if(!e)return e;var t=i(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,e);return a.$setValidity("uiUrl",t),t?e:void 0})}function m(e,t,o,a){s(t,a),a.$parsers.push(function(t){if(!t)return t;var o=!0;return t&&(o=i("^.{"+e.uiMinlength+",}$",t)),a.$setValidity("uiMinLength",o),o?t:void 0})}function p(e,t,o,a){s(t,a),a.$parsers.push(function(t){if(!t)return t;var o=i("^.{0,"+e.uiMaxlength+"}$",t);return a.$setValidity("uiMaxLength",o),o?t:void 0})}function g(e,t,o,a){s(t,a),"object"==typeof e.uiLength&&(Array.isArray(e.uiLength)&&2===e.uiLength.length&&(e.uiLength.min=e.uiLength[0]<e.uiLength[1]?e.uiLength[0]:e.uiLength[1],e.uiLength.max=e.uiLength[0]>e.uiLength[1]?e.uiLength[0]:e.uiLength[1]),a.$parsers.push(function(t){if(!t)return t;var o=!0;return t&&(o=i("^.{"+e.uiLength.min+","+e.uiLength.max+"}$",t)),a.$setValidity("uiLength",o),o?t:void 0}))}function f(e,t,o,a){s(t,a),a.$validators.uiEqualto=function(t){return t==e.uiEqualto},e.$watch("uiEqualto",function(){a.$validate()})}function v(e,t,o,a){s(t,a),a.$parsers.push(function(e){if(!e)return e;var t=!0;return e&&(t=i(/^[a-zA-Z0-9]+$/,e)),a.$setValidity("uiAlphanum",t),t?e:void 0})}function h(e,t,o,a){s(t,a),a.$parsers.push(function(t){if(!t)return t;var o=!0;return t&&(o=n(r(t),e.uiMinwords||0)>-1),a.$setValidity("uiMinWords",o),o?t:void 0})}function b(e,t,o,a){s(t,a),a.$parsers.push(function(t){if(!t)return t;var o=!0;return t&&(o=1!==n(r(t),e.uiMaxwords)),a.$setValidity("uiMaxWords",o),o?t:void 0})}function y(e,t,o,a){s(t,a),"object"==typeof e.uiWords&&(Array.isArray(e.uiWords)&&2===e.uiWords.length&&(e.uiWords.minWords=e.uiWords[0]<e.uiWords[1]?e.uiWords[0]:e.uiWords[1],e.uiWords.maxWords=e.uiWords[0]>e.uiWords[1]?e.uiWords[0]:e.uiWords[1]),a.$parsers.push(function(t){if(!t)return t;var o,i=!0;return t&&(o=r(t),i=n(o>=e.uiWords.minWords)&&n(o<=e.uiWords.minWords)),a.$setValidity("uiWords",i),i?t:void 0}))}function S(e,t,o,a){s(t,a),a.$parsers.push(function(e){if(!e)return e;var t=i(/^\d{1,}$/,e);return a.$setValidity("uiDigits",t),t?e:void 0})}function C(e,t,o,a){s(t,a),a.$parsers.push(function(e){if(!e)return e;var t=i(/^\d+$/,e);return a.$setValidity("uiInteger",t),t?e:void 0})}function k(e,t,o,a){s(t,a),a.$parsers.push(function(e){if(!e)return e;var t=i(/^\d+.\d+$/,e);return a.$setValidity("uiFloat",t),t?e:void 0})}function $(e,t,o,a){s(t,a),a.$parsers.push(function(t){if(!t)return t;var o=Number(t)>=e.uiMin;return a.$setValidity("uiMin",o),o?t:void 0})}function O(e,t,o,a){s(t,a),a.$parsers.push(function(t){if(!t)return t;var o=Number(t)<=e.uiMax;return a.$setValidity("uiMax",o),o?t:void 0})}function w(e,t,o,a){s(t,a),"object"==typeof e.uiRange&&(Array.isArray(e.uiRange)&&2===e.uiRange.length&&(e.uiRange.min=e.uiRange[0]<e.uiRange[1]?e.uiRange[0]:e.uiRange[1],e.uiRange.max=e.uiRange[0]>e.uiRange[1]?e.uiRange[0]:e.uiRange[1]),a.$parsers.push(function(t){if(!t)return t;var o=Number(t),i=o>=e.uiRange.min&&o<=e.uiRange.max;return a.$setValidity("uiRange",i),i?t:void 0}))}function D(e,t,o,a){s(t,a),a.$parsers.push(function(t){if(!t)return t;var o=n(new Date(t),new Date(e.uiMinDate))>-1;return a.$setValidity("uiMinDate",o),o?t:void 0})}function P(e,t,o,a){s(t,a),a.$parsers.push(function(t){if(!t)return t;var o=1!=n(new Date(t),new Date(e.uiMaxDate));return a.$setValidity("uiMaxDate",o),o?t:void 0})}function M(e,t,o,a){s(t,a),"object"==typeof e.uiBetween&&(Array.isArray(e.uiBetween)&&2===e.uiBetween.length&&(e.uiBetween.minBetween=e.uiBetween[0]<e.uiBetween[1]?e.uiBetween[0]:e.uiBetween[1],e.uiBetween.maxBetween=e.uiBetween[0]>e.uiBetween[1]?e.uiBetween[0]:e.uiBetween[1]),a.$parsers.push(function(t){if(!t)return t;var o=!0;return o=n(new Date(t),new Date(e.uiBetween.minBetween))>-1&&n(new Date(t),new Date(e.uiBetween.maxBetween))<1,a.$setValidity("uiBetween",o),o?t:void 0}))}t.exports=angular.module("angular-ui-validator",[]).directive("uiForm",function(){return{controller:["$scope",function(e){this.reset=function(t){e[t]=null,e.$apply()}}],link:function(e,t,o,a){t.on("reset",function(){var e=t[0].children;for(var o in e)switch(e[o].type){case"text":case"url":case"email":case"password":case"number":case"tel":if(e[o].attributes["ng-model"]){a.reset(e[o].attributes["ng-model"].value);break}}}),t.on("submit",function(){if(e[o.name].$invalid){var a=e[o.name].$error;for(var i in a)a[i].forEach(function(e){e.$setDirty()});t.removeClass("ng-submitted"),e[o.name].$submitted=!1,e.$apply()}else{var r=e[o.uiForm];r&&"function"==typeof r&&r()}})},restrict:"A"}}).directive("uiRequired",function(){return{link:l,restrict:"A",require:"ngModel",priority:90}}).directive("uiPattern",function(){return{link:c,restrict:"A",scope:{uiPattern:"="},require:"ngModel"}}).directive("uiEmail",function(){return{link:d,restrict:"A",scope:!0,require:"ngModel",priority:80}}).directive("uiUrl",function(){return{link:u,restrict:"A",scope:!0,require:"ngModel"}}).directive("uiMinlength",function(){return{link:m,restrict:"A",scope:{uiMinlength:"="},require:"ngModel"}}).directive("uiMaxlength",function(){return{link:p,restrict:"A",scope:{uiMaxlength:"="},require:"ngModel"}}).directive("uiLength",function(){return{link:g,restrict:"A",scope:{uiLength:"="},require:"ngModel"}}).directive("uiAlphanum",function(){return{link:v,restrict:"A",scope:!0,require:"ngModel"}}).directive("uiMinwords",function(){return{link:h,restrict:"A",scope:{uiMinwords:"="},require:"ngModel"}}).directive("uiMaxwords",function(){return{link:b,restrict:"A",scope:{uiMaxwords:"="},require:"ngModel"}}).directive("uiWords",function(){return{link:y,restrict:"A",scope:{uiWords:"="},require:"ngModel"}}).directive("uiEqualto",function(){return{link:f,restrict:"A",scope:{uiEqualto:"="},require:"ngModel",priority:50}}).directive("uiDigits",function(){return{link:S,restrict:"A",scope:!0,require:"ngModel"}}).directive("uiMin",function(){return{link:$,restrict:"A",scope:{uiMin:"="},require:"ngModel"}}).directive("uiMax",function(){return{link:O,restrict:"A",scope:{uiMax:"="},require:"ngModel"}}).directive("uiRange",function(){return{link:w,restrict:"A",scope:{uiRange:"="},require:"ngModel"}}).directive("uiMinDate",function(){return{link:D,restrict:"A",scope:{uiMinDate:"="},require:"ngModel"}}).directive("uiMaxDate",function(){return{link:P,restrict:"A",scope:{uiMaxDate:"="},require:"ngModel"}}).directive("uiBetween",function(){return{link:M,restrict:"A",scope:{uiBetween:"="},require:"ngModel"}}).directive("uiInteger",function(){return{link:C,restrict:"A",scope:{uiInteger:"="},require:"ngModel"}}).directive("uiFloat",function(){return{link:k,restrict:"A",scope:{uiFloat:"="},require:"ngModel"}}).directive("uiNumber",function(){return{link:function(e,t,o){t.on("keydown",function(e){switch(e.keyCode){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 8:case 9:case 13:break;case 190:o.uiNumber||e.preventDefault();break;default:e.preventDefault()}})},restrict:"A",priority:99}}).directive("uiAllowedUpto",function(){return{link:function(e,t,o){o.uiAllowedUpto=Number(o.uiAllowedUpto),isNaN(o.uiAllowedUpto)||t.on("keydown",function(e){switch(e.keyCode){case 8:case 9:case 13:break;default:t.val().length>=o.uiAllowedUpto&&e.preventDefault()}})},restrict:"A",priority:95}}).directive("uiFormattedDate",function(){return{link:function(e,t,o){t.on("change",function(){t.val(a({date:t.val(),format:o.uiFormattedDate}))})},restrict:"A"}}).directive("uiExactLength",function(){return{link:function(e,t,o,a){s(t,a),a.$parsers.push(function(t){var o=i(e.uiPattern,t);if(a.$setValidity("uiPattern",o),o)return t})},restrict:"A",priority:95,scope:{uiExactLength:"="},require:"ngModel"}})},{}]},{},[5]);